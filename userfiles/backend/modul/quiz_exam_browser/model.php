<?phpif($action=="save"){	if(Form::isValid("regexambrowser",false) and $_POST['form']=='regexambrowser') 	{  	$browser_key=cleanInput($_POST['browser_key']);	$keterangan=md5($_POST['keterangan']);	/*VALIDASI*/	$r=$mysql->query("SELECT id FROM quiz_member WHERE browser_key='$browser_key'");	if($r and $mysql->numrows($r)>0)	{	//msg_warning(_KODESAMA,"error");	Form::setError("regexambrowser", _BROWSER_SUDAH_TERDAFTAR);	header("location:".backendurl("$modul/add"));	exit();	}	/*END VALIDASI*/		$status=cleanInput($_POST['status'],"numeric");		$sql="INSERT INTO $modul(browser_key,keterangan,status,lastmodify) values ('$browser_key','$keterangan','$status',NOW())";		$r=$mysql->query($sql,1,1);	if($r)	{	$action="view";	Form::clearValues("regexambrowser"); 	msg_warning(_BERHASILTAMBAH,"success");	header("location:".backendurl("$modul/$action"));	exit();	}	else	{	$action="add";	msg_warning(_GAGALTAMBAH,"success");	header("location:".backendurl("$modul/$action"));	exit();	}		}			}if($action=="update"){	$id=cleanInput($_POST['id'],'numeric');	if(Form::isValid("updateexambrowser",false) and $_POST['form']=='updateexambrowser') 	{  	$browser_key=cleanInput($_POST['browser_key']);	$keterangan=cleanInput($_POST['keterangan']);	/*VALIDASI*/	$r=$mysql->query("SELECT id FROM quiz_exam_browser WHERE browser_key='$browser_key' AND id<>$id");	if($r and $mysql->numrows($r)>0)	{	Form::setError("updateexambrowser", _BROWSER_SUDAH_TERDAFTAR);	header("location:".backendurl("$modul/edit/$id/"));	exit();	}	/*END VALIDASI*/	$r_update=array();				$status=cleanInput($_POST['status'],"numeric");		$sql="UPDATE $modul set ";	$r_update[]="browser_key='$browser_key'";	$r_update[]="keterangan='$keterangan'";	$r_update[]="status='$status'";	$r_update[]="lastmodify=NOW()";		$sql.=join(",",$r_update);	$sql.=" WHERE id=$id";	$r=$mysql->query($sql);	if($r)	{	Form::clearValues("updateexambrowser"); 	msg_warning(_BERHASILUPDATE,"success");	header("location:".backendurl("$modul/view"));	exit();	}	else	{	msg_warning(_GAGALUPDATE,"error");	header("location:".backendurl("$modul/edit/$id"));	exit();	}		}	else	{	msg_warning(_GAGALUPDATE,"error");	header("location:".backendurl("$modul/edit/$id"));	exit();	}}if($action=="del"){		$sql="DELETE FROM $modul WHERE id=$id;				";	$r=$mysql->query($sql);	if($r)	{		header("location:".backendurl("$modul/view"));	}}?>