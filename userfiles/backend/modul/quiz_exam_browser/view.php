<?phpif($_GET['download_template']==1){	// output headers so that the file is downloaded rather than displayed	header('Content-Type: text/csv; charset=utf-8');	header('Content-Disposition: attachment; filename=Template_Import_Peserta.csv');	// create a file pointer connected to the output stream	$output = fopen('php://output', 'w');	// output the column headings	fputcsv($output, array('Kode Login', 'Nama Peserta', 'Kelas'));	fputcsv($output, array('TKJ-1001', 'Romli', 'TKJ'));		exit();	}if($action=="upload"){$form = new Form("uploadmember");$form->configure(array(	"prevent" => array("bootstrap", "jQuery", "focus"),	"action" =>backendurl("$modul/uploadmember"),	"enctype" =>"multipart/form-data"));$form->addElement(new Element_Hidden("form", "uploadmember"));$form->addElement(new Element_HTML('<legend>'._UPLOADMEMBER.'</legend>'));$form->addElement(new Element_HTML('<div class="control-group"><label for="foto_add" class="control-label"></label><div class="controls">Silahkan download template dengan format .csv terlebih dahulu '.button_download("quiz_exam_browser?download_template=1").' <br/>Lakukan pengisian data di template tersebut. <br/>Selanjutnya di upload kembali file csv dibawah ini.<br/></div></div>'));$form->addElement(new Element_HTML('<div class="control-group"><label for="foto_add" class="control-label"></label><div class="controls">'._UPLOAD.'<input type="file"  id="member_csv" required="required" name="member_csv" accept="csv/*" class="thumbnail_product"><br/><br/><input type="checkbox" name="replace" value="1" /> Apakah data member lama akan dihapus ganti dengan yang baru?</div></div>'));$form->addElement(new Element_Button(_SIMPAN));$form->addElement(new Element_Button(_BATAL, "button", array(	"onclick" => "history.go(-1);")));$form->render();}if($action=="edit"){	if($_SESSION['s_level']<=0){redirecto(_TIDAKBERHAK,"error","view");}$r=$mysql->query("SELECT * from quiz_exam_browser where id=$id");$d=$mysql->assoc($r);if($_SESSION['s_level']<$d['level']){redirecto(_TIDAKBERHAK,"error","view");}$form = new Form("updateexambrowser");$form->configure(array(	"prevent" => array("bootstrap", "jQuery", "focus"),	"action" =>backendurl("quiz_exam_browser/update") ));$options_status = array("1"=>_AKTIF,"0"=>_TIDAKAKTIF);$form->addElement(new Element_HTML('<legend>'._TAMBAHEXAMBROWSER.'</legend>'));$form->addElement(new Element_Hidden("form", "updateexambrowser"));$form->addElement(new Element_Hidden("id",$id));$form->addElement(new Element_Textbox(_BROWSER_KEY, "browser_key", array("required" => 1,"value"=>$d['browser_key'])));$form->addElement(new Element_Textbox(_KETERANGAN, "keterangan", array("value"=>$d['keterangan'])));$form->addElement(new Element_Select(_STATUS, "status", $options_status,array("value"=>$d['status'])));$form->addElement(new Element_Button(_SIMPAN));$form->addElement(new Element_Button(_BATAL, "button", array(	"onclick" => "history.go(-1);")));$form->render();}if($action=="add"){if($_SESSION['s_level']<=0){redirecto(_TIDAKBERHAK,"error","view");}$form = new Form("regexambrowser");$form->configure(array(	"prevent" => array("bootstrap", "jQuery", "focus"),	"action" =>backendurl("quiz_exam_browser/save") ));$options_status = array("1"=>_AKTIF,"0"=>_TIDAKAKTIF);$form->addElement(new Element_HTML('<legend>'._TAMBAHEXAMBROWSER.'</legend>'));$form->addElement(new Element_Hidden("form", "regexambrowser"));$form->addElement(new Element_Textbox(_BROWSER_KEY, "browser_key", array("required" => 1,"value"=>$d['browser_key'])));$form->addElement(new Element_Textbox(_KETERANGAN, "keterangan", array("value"=>$d['keterangan'])));$form->addElement(new Element_Select(_STATUS, "status", $options_status,array("value"=>$d['status'])));$form->addElement(new Element_Button(_SIMPAN));$form->addElement(new Element_Button(_BATAL, "button", array(	"onclick" => "history.go(-1);")));$form->render();}if($action=="" or $action=="search" or $action=="view"){$form_search=form_search($keyword);}if($action=="view" or $action=="" or $action=="search"){Form::clearValues("updateuser");	Form::clearValues("reguser");		if($_SESSION['s_level']>0){$col_tambah=button_add("quiz_exam_browser/add/");//$col_tambah.="&nbsp;&nbsp;".button_upload("quiz_exam_browser/upload");}$sql="SELECT id,browser_key,keterangan,if(status=1,'"._AKTIF."','"._TIDAKAKTIF."') status,lastmodify FROM quiz_exam_browser q ";if($action=="search"){$sql.=" WHERE browser_key like '%$keyword%' or keterangan like '%$keyword%' or ";} $r=$mysql->query($sql);$total_records = $mysql->numrows($r);$start = $screen * $max_page_list;$pages = ceil($total_records/$max_page_list);if ($pages>1) $col_pagination=pagination($screen);$sql.="  order by $sort_by $sort_order  LIMIT $start, $max_page_list";$r=$mysql->query($sql);echo "<table id='DataTables_Table_3_wrapper' class='table table-hover table-nomargin table-bordered '>";echo "<thead><tr><th>No</th><th>".orderBy("browser_key",_BROWSER_KEY,$sort_order,$sort_by)."</th><th>".orderBy("keterangan",_KETERANGAN,$sort_order,$sort_by)."</th><th>".orderBy("lastmodify",_LASTMODIFY,$sort_order,$sort_by)."</th><th>".orderBy("status",_STATUS,$sort_order,$sort_by)."</th>";if($_SESSION['s_level']>0){echo "<th>Action</th>";}echo "</tr></thead>";$no=($start+1);echo '<tbody>';while($d=$mysql->assoc($r)){echo "<tr><td>$no</td><td>".$d['browser_key']."</td><td>".$d['keterangan']."</td><td>".$d['lastmodify']."</td><td>".$d['status']."</td>";if($_SESSION['s_level']>0){$ar_action=array("edit"=>$d['id'],"del"=>$d['id']);echo "<td>".button_action($ar_action)."</td>";$no++;}echo "</tr>";}echo "</tbody>";echo "</table>";}?>