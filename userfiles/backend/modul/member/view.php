<?phpif($action=="edit"){$r=$mysql->query("SELECT * from member where id=$id");$d=$mysql->assoc($r);$form = new Form("updatemember");$form->configure(array(	"prevent" => array("bootstrap", "jQuery", "focus"),	"action" =>backendurl("member/update")));$form->addElement(new Element_HTML('<legend>Edit member</legend>'));$form->addElement(new Element_Hidden("form", "updatemember"));$form->addElement(new Element_Hidden("id",$id));$form->addElement(new Element_Email(_EMAIL, "email", array("required" => 0,"value"=>$d['email'])));$form->addElement(new Element_Textbox(_NAMALENGKAP, "fullname", array("required" => 1,"value"=>$d['fullname'])));$form->addElement(new Element_Number(_HANDPHONE, "hp", array("required" => 1,"value"=>$d['hp'])));$form->addElement(new Element_Textarea(_ALAMAT, "alamat", array("required" => 1,"value"=>$d['alamat'])));$form->addElement(new Element_Button("Update"));$form->addElement(new Element_Button("Cancel", "button", array(	"onclick" => "history.go(-1);")));$form->render();Form::clearValues("updatemember"); }if($action=="add"){$form = new Form("register");$form->configure(array(	"prevent" => array("bootstrap", "jQuery", "focus"),	"action" =>backendurl("member/save") ));$form->addElement(new Element_HTML('<legend>Register member</legend>'));$form->addElement(new Element_Hidden("form", "register"));$form->addElement(new Element_Email(_EMAIL, "email", array("required" => 1)));$form->addElement(new Element_Textbox(_NAMALENGKAP, "fullname", array("required" => 1)));$form->addElement(new Element_Number(_HANDPHONE, "hp", array("required" => 1)));$form->addElement(new Element_Textarea(_ALAMAT, "alamat", array("required" => 1)));$form->addElement(new Element_Button(_SIMPAN));$form->addElement(new Element_Button(_BATAL, "button", array(	"onclick" => "history.go(-1);")));$form->render();}if($action=="" or $action=="search" or $action=="view"){$form_search=form_search($keyword);}if($action=="view" or $action=="" or $action=="search"){$col_tambah=button_add("member/add");$sql="SELECT id,email,fullname,hp,alamat,date_format(regdate,'%d/%m/%Y') regdate FROM member ";if($action=="search"){$sql.=" WHERE fullname like '%$keyword%' or hp like '%$keyword%' or alamat like '%$keyword%' oremail like '%$keyword%'";}$r=$mysql->query($sql);$total_records = $mysql->numrows($r);$start = $screen * $max_page_list;$pages = ceil($total_records/$max_page_list);if ($pages>1) $col_pagination=pagination($screen);$sql.="  order by $sort_by $sort_order  LIMIT $start, $max_page_list";$r=$mysql->query($sql);echo "<table id='DataTables_Table_3_wrapper' class='table table-hover table-nomargin table-bordered '>";echo "<thead><tr><th>No</th><th>".orderBy("email",_EMAIL,$sort_order,$sort_by)."</th><th>".orderBy("fullname",_NAMALENGKAP,$sort_order,$sort_by)."</th><th>".orderBy("hp",_HANDPHONE,$sort_order,$sort_by)."</th><th>".orderBy("alamat",_ALAMAT,$sort_order,$sort_by)."</th><th>".orderBy("regdate",_REGISTRASI,$sort_order,$sort_by)."</th><th>Action</th></tr></thead>";$no=($start+1);echo '<tbody>';while($d=$mysql->assoc($r)){echo "<tr><td>$no</td><td>".$d['email']."</td><td>".$d['fullname']."</td><td>".$d['hp']."</td><td>".$d['alamat']."</td><td>".$d['regdate']."</td>";$ar_action=array("edit"=>$d['id'],"del"=>$d['id']);echo "<td>".button_action($ar_action)."</td></tr>";$no++;}echo "</tbody>";echo "</table>";}if($action=="regfinish"){echo "Berhasil daftar silahkan cek email anda";}?>