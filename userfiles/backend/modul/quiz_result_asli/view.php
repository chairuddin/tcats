<?php/* * generate excel untnuk hasil uujian dalam bentuk pilihan jawaban berwarnafunction generate_abjad($start='A', $stop=0){
	$az_range = range('A', 'Z');	$muter=true;	$index=2;	while($muter==true){				foreach($az_range as $i => $abjad){						$stop--;			if($stop<0){				$muter=false;				continue;			}			echo "{$abjad}$index <br/>";											}		$index++;			}
}generate_abjad('A',6);*/if($action=="" or $action=="search" or $action=="view"){$col_back="&nbsp;";		//$form_search=form_search($keyword,"quiz_result");}/**/if($action=="view" or $action=="" or $action=="search" or $action=="today"){$col_tambah.="<a class=\"btn btn-filter\" href=\"".backendurl("$modul/".($action=="today"?"view":"today"))."\" ><i class=\"glyphicon-sort\"></i>&nbsp;&nbsp;".($action=="today"?"Semua Jadwal":"Jadwal Hari Ini")."</a>";if($_SESSION['s_level']>1){$col_tambah.="&nbsp;&nbsp;<a class=\"btn btn-upload\" href=\"#\" onclick=\"$('.upload_jadwal').show();\">Restore Hasil Ujian(*.gz)</a>";$col_tambah.="&nbsp;&nbsp;<a class=\"btn btn-download\" onclick=\"document.getElementById('form_list_jadwal').submit();\">Backup Hasil Ujian(*.gz)</a>";$col_tambah.="&nbsp;&nbsp;<span class=\"upload_jadwal\" style=\"display:none;\"><form method=\"post\" enctype=\"multipart/form-data\" action=\"".backendurl("$modul/upload")."\">File Hasil Ujian (*.gz)<input type=\"file\" accept=\"gz/*\" name=\"filename\" required=\"required\"><button type=\"submit\" class=\"btn btn-primary\" name=\"proses_upload\" value=\"1\" />Submit Hasil Ujian</button></form></span>";}$sql="SELECT m.id,m.quiz_id,m.allow_class,m.tanggal,m.tanggal_expired,date_format(m.tanggal,'%d/%m/%Y') exam_date,date_format(m.tanggal,'%H:%i') exam_time,date_format(m.tanggal_expired,'%d/%m/%Y') exam_date_expired,date_format(m.tanggal_expired,'%H:%i') exam_time_expired,m.is_late,q.code,q.title_id,q.duration,q.kkm,q.is_random,q.is_random_option,(select count(*) from quiz_detail q WHERE q.quiz_id=m.quiz_id  ) soal FROM quiz_schedule m LEFT JOIN quiz_master q ON m.quiz_id=q.id WHERE ";/**/if( $action=="today"){	$sql.=" date_format(m.tanggal,'%Y-%m-%d')='$hariini' ";}else{	$sql.=" date_format(m.tanggal,'%Y-%m-%d')<='".date('Y-m-d')."'";	}if($_SESSION['s_level']==0){	$sql.=" AND m.quiz_id IN (SELECT id FROM quiz_master WHERE created_by='".$_SESSION['s_id']."')";}$r=$mysql->query($sql);$total_records = $mysql->numrows($r);$start = $screen * $max_page_list;$pages = ceil($total_records/$max_page_list);if ($pages>1) $col_pagination=pagination($screen);$sql.="   order by m.tanggal desc LIMIT $start, $max_page_list";$r=$mysql->query($sql);echo "<form method='post' id='form_list_jadwal' name='form_list_jadwal' action='".backendurl("$modul/download")."'><table id='DataTables_Table_3_wrapper' class='view-table table table-hover table-nomargin table-bordered '>";echo "<thead><tr><th>No</th>";//<th>"._THUMBNAIL."</th>echo "<th>".orderBy("tanggal",_TANGGAL,$sort_order,$sort_by)."</th>";echo "<th>".orderBy("title_id",_JUDUL,$sort_order,$sort_by)."</th>";echo "<th>Action</th>";echo "</tr></thead>";$no=($start+1);if($mysql->numrows($r)>0){echo '<tbody id="brand_row" class="ui-sortable">';while($d=$mysql->assoc($r)){$style_today="";	$a=0;	$a=strtotime($hariini_long)-strtotime($d["tanggal_expired"]);if(date("Y-m-d",strtotime($d["tanggal"]))==$hariini or $a<0){$a=$a/60;if($a<=50){$style_today="color-time1";}elseif($a>50 and $a<=100){$style_today="color-time2";}elseif($a>100 and $a<=150){$style_today="color-time3";}elseif($a>150 and $a<=300){$style_today="color-time4";}else{$style_today="color-time5";}}		$sql1="SELECT count(id) jumlah_peserta FROM quiz_done WHERE quiz_id='".$d['quiz_id']."' AND is_done=1 AND schedule_id='".$d['id']."' ";$r1=$mysql->query($sql1);list($jumlah_peserta)=$mysql->row($r1);echo "<tr id='list_{$d['id']}' class='rowmove $style_today'><td>$no ".($_SESSION['s_level']>1?"<input type='checkbox' name='id_schedule[]' value='".$d['id']."' />":"")."</td>";$class=$mysql->get1value("SELECT GROUP_CONCAT(DISTINCT(member_class)) class_gabungan FROM quiz_done WHERE schedule_id='".$d['id']."' AND is_done=1");if($class!=""){	$d['allow_class']=$class;	$r_allow_class=explode(",",$d["allow_class"]);	if(count($r_allow_class)>0){		foreach($r_allow_class as $x =>$v){			$r_allow_class[$x]="<a class='button_download_excel' title='Download $v dalam bentuk Excel' href='".backendurl("$modul/download_excel/?schedule_id=".$d['id'])."&class=$v'><img alt=\"Download Excel\" border=\"0\" src=\"".backendurl("images/excel_l.gif")."\">&nbsp;".$v."</a>&nbsp;&nbsp;&nbsp;";		}	}	else{		if($d['allow_class']=="ALL"){		$class=$mysql->get1value("SELECT GROUP_CONCAT(DISTINCT(member_class)) FROM quiz_done WHERE schedule_id='".$d['id']."'");		$d['allow_class'].=",".$class;		}	}}else{	$r_allow_class=explode(",",$d["allow_class"]);	foreach($r_allow_class as $x =>$v){		$r_allow_class[$x]="<a class='button_download_excel' title='Download Excel $v'>".$v."</a>";	}}//jika tidak ada sama sekali$allow_class="<span class='class_option'>".join("</span><span class='class_option'>",$r_allow_class)."</span>";/*TANGGAL MULAI DAN EXPIRED*/$tanggal_ujian=tgl_indo_long(date("Y-m-d",strtotime($d['tanggal'])));$tanggal_expired=tgl_indo_long(date("Y-m-d",strtotime($d['tanggal_expired'])));$hari_sama=$tanggal_ujian==$tanggal_expired?1:0;$jadwal_ujian="";if($hari_sama==1){	$jadwal_ujian="	<span class='tanggal_ujian_inline'><i class=\"icon-calendar\"></i>$tanggal_ujian</span><span class='waktu_ujian_inline'><i class='glyphicon-stopwatch'></i>	".date("H:i",strtotime($d['tanggal']))." - ".date("H:i",strtotime($d['tanggal_expired'])).	"</span>";}else{	$jadwal_ujian= "	<span class='tanggal_ujian'><i class=\"icon-calendar\"></i>$tanggal_ujian</span><span class='waktu_ujian'><i class='glyphicon-stopwatch'></i>	".date("H:i",strtotime($d['tanggal'])).	"</span><br/>";	$jadwal_ujian.= "	<span class='tanggal_ujian'><i class=\"icon-calendar\"></i>$tanggal_expired</span><span class='waktu_ujian'><i class='glyphicon-stopwatch'></i>	".date("H:i",strtotime($d['tanggal_expired'])).	"</span>";}/*END TANGGAL MULAI DAN EXPIRED*/echo "<td valign='top' class='td_tanggal_ujian'>$jadwal_ujian</td>";echo "<td>[".$d["code"]."]&nbsp;&nbsp;&nbsp;".$d["title_id"]." <br/>(".$d["soal"]." Soal, ".$d["duration"]." Menit,KKM ".$d["kkm"].($d["is_random"]==1?", Soal Acak":"")."".($d["is_random_option"]==1?", Pilihan Acak":"").")<br/>$allow_class</td>";echo "<td><a class='button_action action_download_excel' title='Peserta tidak ikut ujian' href='".backendurl("$modul/skip/?schedule_id=".$d['id'])."'><img alt=\"Siswa Bolos\" border=\"0\" src=\"".backendurl("images/sleep.png")."\"></a> <a class='button_action action_download_excel' title='Download semua data ujian dalam bentuk Excel' href='".backendurl("$modul/download_excel/?schedule_id=".$d['id'])."&class=ALL'><img alt=\"Download Excel\" border=\"0\" src=\"".backendurl("images/excel_l.gif")."\"></a> <a class='button_action' title='Report Dashboard' href='".backendurl("$modul/dashboard/?quiz_id=".$d['quiz_id']."&schedule_id=".$d['id'])."'><img alt=\"View\" border=\"0\" src=\"".backendurl("images/statistik.png")."\"></a>	  <a class='button_action view_number' title='Lihat daftar peserta'  href='".backendurl("$modul/view_participant/?schedule_id=".$d['id'])."'><img alt=\"View\" border=\"0\" src=\"".backendurl("images/view.png")."\"> (".$jumlah_peserta.")</a>";if($_SESSION['s_level']>=1){echo "<a class='button_action  action_del_confirm action-remove' data-toggle='modal' href='".backendurl("$modul/del/".$d['id'])."'><i class='glyphicon-remove'></i></a>";}echo " </td>";	echo "</tr>";$no++;}echo "</tbody>";}echo "</table>";echo "</form>";}/**//** /if($action=="view" or $action=="" or $action=="search"){	$sql="SELECT id,date_format(start_time,'%Y-%m-%d') tgl_normal,date_format(start_time,'%Y%m%d') short_time,date_format(start_time,'%Y%m%d') tgl_ujian,start_time,quiz_title_id,quiz_code FROM quiz_done WHERE is_done=1 ";if($action=="search"){$sql.=" AND (quiz_title_id like '%$keyword%' or quiz_code like '%$keyword%')";} $r=$mysql->query($sql);$total_records = $mysql->numrows($r);$start = $screen * $max_page_list;$pages = ceil($total_records/$max_page_list);if ($pages>1) $col_pagination=pagination($screen);$sql.="  order by $sort_by $sort_order  LIMIT $start, $max_page_list";$r=$mysql->query($sql);echo "<table id='DataTables_Table_3_wrapper' class='table table-hover table-nomargin table-bordered '>";echo "<thead><tr><th>No</th><th>".orderBy("start_time",_UJIANMULAI,$sort_order,$sort_by)."</th><th>".orderBy("quiz_code",_KODESOAL,$sort_order,$sort_by)."</th><th>".orderBy("quiz_title_id",_NAMASOAL,$sort_order,$sort_by)."</th><th>Peserta</th>";if($_SESSION['s_level']>0){//echo "<th>Batalkan</th>";}echo "</tr></thead>";$no=($start+1);echo '<tbody>';while($d=$mysql->assoc($r)){$sql1="SELECT count(id) jumlah_peserta FROM quiz_done WHERE quiz_code='".$d['quiz_code']."' AND is_done=1 AND date_format(start_time,'%Y%m%d')='".$d['tgl_ujian']."' ";//$sql1.=" GROUP BY date_format(start_time,'%Y-%m-%d'),quiz_title_id,quiz_code";//die($sql1);$r1=$mysql->query($sql1);list($jumlah_peserta)=$mysql->row($r1);	echo "<tr><td>$no</td><td>".$d['tgl_normal']."</td><td>".$d['quiz_code']."</td><td>".$d['quiz_title_id']."</td><td><a href='".backendurl("$modul/view_participant/".$d['short_time']."?id_soal=".$d['quiz_code'])."'>View ".$jumlah_peserta." Participants</a> | <a href='".backendurl("$modul/download_excel/".$d['short_time']."?id_soal=".$d['quiz_code'])."'>Download XLS</a></td>	";if($_SESSION['s_level']>0){$ar_action=array("del"=>$d['id']);//echo "<td>".button_action($ar_action)."</td>";}$no++;echo "</tr>";}echo "</tbody>";echo "</table>";if($action=="regfinish"){echo "Berhasil daftar silahkan cek email anda";}}/**/if($action=="view_participant_xls"){
	error_reporting(E_ALL);ini_set('display_errors', FALSE);ini_set('display_startup_errors', FALSE);date_default_timezone_set('Asia/Jakarta');// Create new PHPExcel object $objPHPExcel = new PHPExcel();// Set document properties$objPHPExcel->getProperties()->setCreator("websuka.com") ->setLastModifiedBy("websuka.com") ->setTitle("Ujian Online Berbasis Komputer") ->setSubject("Ujian Online Berbasis Komputer") ->setDescription("Ujian Online Berbasis Komputer") ->setKeywords("Ujian Online Berbasis Komputer") ->setCategory("Ujian Online Berbasis KOmputer");$objPHPExcel->setActiveSheetIndex(0)            ->setCellValue('A1',"No")            ->setCellValue('B1',"Kode Peserta")            ->setCellValue('C1',"Nama Lengkap")            ->setCellValue('D1',"Skor")            ->setCellValue('D1',"Jawaban")            ;for($i=1;$i<=30;$i++){
	
}            $objPHPExcel->getActiveSheet()->mergeCells('A1:A3');$objPHPExcel->getActiveSheet()->mergeCells('B1:B3');$objPHPExcel->getActiveSheet()->mergeCells('C1:C3');		$no=4;	$objPHPExcel->setActiveSheetIndex(0)			->setCellValue('A'.$no,"1")			->setCellValue('B'.$no,"Romli")			->setCellValue('C'.$no,"M. Romli")			->setCellValue('D'.$no,"100")			->setCellValue('E'.$no,"j")			;			$filename="Template Login Peserta";$sheet_title="Data login peserta";// Rename worksheet$objPHPExcel->getActiveSheet()->setTitle($sheet_title);// Set active sheet index to the first sheet, so Excel opens this as the first sheet$objPHPExcel->setActiveSheetIndex(0);// Redirect output to a client’s web browser (Excel5)header('Content-Type: application/vnd.ms-excel');header('Content-Disposition: attachment;filename="'.$filename.'.xls"');header('Cache-Control: max-age=0');// If you're serving to IE 9, then the following may be neededheader('Cache-Control: max-age=1');// If you're serving to IE over SSL, then the following may be neededheader ('Expires: Mon, 26 Jul 1997 05:00:00 GMT'); // Date in the pastheader ('Last-Modified: '.gmdate('D, d M Y H:i:s').' GMT'); // always modifiedheader ('Cache-Control: cache, must-revalidate'); // HTTP/1.1header ('Pragma: public'); // HTTP/1.0$objWriter = PHPExcel_IOFactory::createWriter($objPHPExcel, 'Excel5');$objWriter->save('php://output');exit;
}if($action=="view_participant"){	$col_tambah.="&nbsp;&nbsp;<a class=\"btn btn-tab\" href=\"".backendurl("$modul/view_participant/?schedule_id=".$_GET['schedule_id'])."\" >ALL</a>";	$qclass=$mysql->query("SELECT DISTINCT(member_class) class FROM quiz_done WHERE schedule_id='".$_GET['schedule_id']."' AND is_done=1");if($qclass and $mysql->numrows($qclass)>0){	while($d_class=$mysql->assoc($qclass)){		$selected=$_GET['class']==$d_class['class']?" active":"";		$col_tambah.="&nbsp;&nbsp;<a class=\"btn btn-tab$selected\" href=\"".backendurl("$modul/view_participant/?schedule_id=".$_GET['schedule_id']."&class=".$d_class['class'])."\" >".$d_class['class']."</a>";	}}$col_tambah.="<a class=\"printer\" target=\"_BLANK\"href='".backendurl("$modul/view_participant/?schedule_id=".$_GET['schedule_id']."&print=1&class=".$_GET['class'])."'><img alt=\"Cetak\" border=\"0\" src=\"".backendurl("images/print.jpg")."\"></a>	  ";$id=cleanInput($id);	$rschedule=$mysql->query_data("SELECT quiz_info,date_format(tanggal,'%Y-%m-%d %H:%i') tanggal,date_format(tanggal_expired,'%Y-%m-%d %H:%i') tanggal_expired FROM quiz_schedule WHERE id='".cleanInput($_GET['schedule_id'])."' ");$dschedule=json_decode($rschedule[0]['quiz_info'],true);$dschedule['tanggal']=$rschedule[0]['tanggal'];$sql="SELECT * FROM quiz_done  WHERE is_done=1 AND schedule_id='".cleanInput($_GET['schedule_id'])."'";if($_GET['class']!=""){$sql.=" AND member_class='".$_GET['class']."'";}$r=$mysql->query($sql);$total_records = $mysql->numrows($r);$start = $screen * $max_page_list;$pages = ceil($total_records/$max_page_list);if ($pages>1) $col_pagination=pagination($screen,"?schedule_id=".$_GET['schedule_id']."&class=".$_GET['class']);$sql.="  order by member_code";if($_GET['print']!=1){$sql.="  LIMIT $start, $max_page_list";}$r=$mysql->query($sql);echo "<table><tr>	<td>Soal</td>	<td>:</td>	<td><b>".$dschedule['code']." ".$dschedule['title_id']."</b></td></tr>";/*TANGGAL MULAI DAN EXPIRED*/$tanggal_ujian=date("Y-m-d",strtotime($rschedule[0]['tanggal']));$tanggal_expired=date("Y-m-d",strtotime($rschedule[0]['tanggal_expired']));$hari_sama=$tanggal_ujian==$tanggal_expired?1:0;$jadwal_ujian="";if($hari_sama==1){echo "	<tr>	<td>Tanggal</td>	<td>:</td>	<td><b>".$tanggal_ujian." Pukul ".date("H:i",strtotime($rschedule[0]['tanggal']))." - ".date("H:i",strtotime($rschedule[0]['tanggal_expired']))."</b></td>	</tr>	";}else{echo "	<tr>	<td>Tanggal Mulai</td>	<td>:</td>	<td><b>".$tanggal_ujian." Pukul ".date("H:i",strtotime($rschedule[0]['tanggal']))."</b></td>	</tr>	<tr>	<td>Tanggal Selesai</td>	<td>:</td>	<td><b>".$tanggal_expired." Pukul ".date("H:i",strtotime($rschedule[0]['tanggal_expired']))."</b></td>	</tr>	";}/*END TANGGAL MULAI DAN EXPIRED*/echo "<tr>	<td>Durasi</td>	<td>:</td>	<td><b>".$dschedule['duration']." Menit</b></td></tr><tr>	<td>KKM</td>	<td>:</td>	<td><b>".$dschedule['kkm']."</b></td></tr></table>";echo "<table id='DataTables_Table_3_wrapper' class='participant-table table table-hover table-nomargin table-bordered '>";echo "<thead><tr><th>No</th><th>"._KODELOGIN."</th><th>"._NAMALENGKAP."</th><th>"._SCORE."</th>";/*<th>"._NAMASOAL."</th><th>"._UJIANMULAI."</th><th>"._B."</th><th>"._S."</th>  * */if($_SESSION['s_level']>0 and $_GET['print']!=1){echo "<th>Batalkan</th>";}echo "</tr></thead>";$no=($start+1);echo '<tbody>';while($d=$mysql->assoc($r)){echo "<tr><td>$no</td><td>".$d['member_code']."</td><td>".$d['member_fullname']."</td><td>".$d['score']."</td>";/* * <td>".$d['quiz_code']."-".$d['quiz_title_id']."</td> <td>".$d['start_time']."</td> <td>".$d['benar']."</td><td>".$d['salah']."</td> * */if($_SESSION['s_level']>0 and $_GET['print']!=1){echo "<td>	<a title=\"del\" class=\"button_action action_del action-remove\" href=\"".backendurl("$modul/del_participant/".$d['id'])."\" data-toggle=\"modal\">		<i class=\"glyphicon-remove\"></i>	</a></td>";}$no++;echo "</tr>";}echo "</tbody>";echo "</table>";}if($action=="view_participant_statistic"){ob_start();$form_title="Jawaban Siswa";		$col_tambah.="&nbsp;&nbsp;<a class=\"btn btn-tab\" href=\"".backendurl("$modul/view_participant_statistic/?schedule_id=".$_GET['schedule_id'])."\" >ALL</a>";	$qclass=$mysql->query("SELECT DISTINCT(member_class) class FROM quiz_done WHERE schedule_id='".$_GET['schedule_id']."' AND is_done=1");if($qclass and $mysql->numrows($qclass)>0){	while($d_class=$mysql->assoc($qclass)){		$selected=$_GET['class']==$d_class['class']?" active":"";		$col_tambah.="&nbsp;&nbsp;<a class=\"btn btn-tab$selected\" href=\"".backendurl("$modul/view_participant_statistic/?schedule_id=".$_GET['schedule_id']."&class=".$d_class['class'])."\" >".$d_class['class']."</a>";	}}$col_tambah.="<a class=\"printer\" target=\"_BLANK\"href='".backendurl("$modul/view_participant_statistic/?schedule_id=".$_GET['schedule_id']."&print=1&class=".$_GET['class'])."'><img alt=\"Cetak\" border=\"0\" src=\"".backendurl("images/print.jpg")."\"></a>	  ";$col_tambah.="<a class=\"excel\" target=\"_BLANK\"href='".backendurl("$modul/view_participant_statistic/?schedule_id=".$_GET['schedule_id']."&print=1&excel=1&class=".$_GET['class'])."'><img alt=\"Excel\" border=\"0\" src=\"".backendurl("images/excel_l.gif")."\"></a>	  ";$id=cleanInput($id);	//AMBIL KUNCI JAWABAN	$quiz_id=$mysql->get1value("SELECT quiz_id FROM quiz_done WHERE schedule_id='".cleanInput($_GET['schedule_id'])."'");	$kunci=array();	$qkey=$mysql->query("SELECT id,answer FROM quiz_detail WHERE quiz_id=$quiz_id");	if($qkey and $mysql->numrows($qkey)>0){		while($d=$mysql->assoc($qkey)){			$kunci[$d['id']]=$d['answer'];		}	}$join_kunci=join("",$kunci);	//AMBIL KUNCI JAWABAN$rschedule=$mysql->query_data("SELECT quiz_info,date_format(tanggal,'%Y-%m-%d %H:%i') tanggal,date_format(tanggal_expired,'%Y-%m-%d %H:%i') tanggal_expired FROM quiz_schedule WHERE id='".cleanInput($_GET['schedule_id'])."' ");$dschedule=json_decode($rschedule[0]['quiz_info'],true);$dschedule['tanggal']=$rschedule[0]['tanggal'];$dschedule['tanggal_expired']=$rschedule[0]['tanggal_expired'];$sql="SELECT * FROM quiz_done  WHERE is_done=1 AND schedule_id='".cleanInput($_GET['schedule_id'])."'";if($_GET['class']!=""){$sql.=" AND member_class='".$_GET['class']."'";}$r=$mysql->query($sql);$total_records = $mysql->numrows($r);$start = $screen * $max_page_list;$pages = ceil($total_records/$max_page_list);if ($pages>1) $col_pagination=pagination($screen,"?schedule_id=".$_GET['schedule_id']."&class=".$_GET['class']);$sql.="  order by $sort_by $sort_order";if($_GET['print']!=1){$sql.="  LIMIT $start, $max_page_list";}$r=$mysql->query($sql);echo "<table><tr>	<td>Soal</td>	<td>:</td>	<td><b>".$dschedule['code']." ".$dschedule['title_id']."</b></td></tr>";/*TANGGAL MULAI DAN EXPIRED*/$tanggal_ujian=date("Y-m-d",strtotime($dschedule['tanggal']));$tanggal_expired=date("Y-m-d",strtotime($dschedule['tanggal_expired']));$hari_sama=$tanggal_ujian==$tanggal_expired?1:0;$jadwal_ujian="";if($hari_sama==1){echo "	<tr>	<td>Tanggal</td>	<td>:</td>	<td>".$tanggal_ujian." Pukul ".date("H:i",strtotime($dschedule['tanggal']))." - ".date("H:i",strtotime($dschedule['tanggal_expired']))."</td>	</tr>	";}else{echo "	<tr>	<td>Tanggal Mulai</td>	<td>:</td>	<td><b>".$tanggal_ujian." Pukul ".date("H:i",strtotime($dschedule['tanggal']))."</b></td>	</tr>	<tr>	<td>Tanggal Selesai</td>	<td>:</td>	<td><b>".$tanggal_expired." Pukul ".date("H:i",strtotime($dschedule['tanggal_expired']))."</b></td>	</tr>	";}/*END TANGGAL MULAI DAN EXPIRED*/echo "<tr>	<td>Durasi</td>	<td>:</td>	<td><b>".$dschedule['duration']."</b></td></tr><tr>	<td>KKM</td>	<td>:</td>	<td><b>".$dschedule['kkm']."</b></td></tr></table>";echo "<div class='participant-table-statistic'>";echo "<table id='DataTables_Table_3_wrapper' class='table table-hover table-nomargin table-bordered ' ".($_GET['excel']==1?"border='1'":"").">";echo "<thead><tr><th rowspan=\"3\">No<br/>&nbsp;&nbsp;&nbsp;</th><th rowspan=\"3\">"._KODELOGIN."<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th><th rowspan=\"3\">"._NAMALENGKAP."<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th><th rowspan=\"3\">"._SCORE."<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th><th colspan=\"".count($kunci)."\">"._JAWABAN."</th>";if($_SESSION['s_level']>0 and $_GET['print']!=1){echo "<th rowspan=\"3\">Batalkan</th>";}echo "</tr>";echo "<tr>";$nomor=1;foreach($kunci as $a =>$k){echo "<th class=\"kolom_jawab nomor_jawaban\">".$nomor."</th>";$nomor++;}echo "</tr>";echo "<tr>";foreach($kunci as $a =>$k){echo "<th class=\"kolom_jawab\">".$k."</th>";}echo "</tr>";echo "</thead>";$no=($start+1);echo '<tbody>';while($d=$mysql->assoc($r)){			$temp_answer=json_decode($d['answer'],true);		$r_answer=array();		$c_answer=array();		if(count($kunci)>0){				$index=0;			foreach($kunci as $idsoal => $idsoal){				$index+=1;								//BANDINGKAN JAWABAN				if($temp_answer[$index]!="" and $temp_answer[$index]==$kunci[$idsoal]){					//BENAR					//$r_answer[]="<span class='box_answer_oke'>".$index."<span class='abjad'>".$temp_answer[$index]."</span></span>";					//$r_answer[]="<span class='box_answer_oke'>".$index."</span>";					$c_answer[$index]="box_answer_oke";								}elseif($temp_answer[$index]!="" and $temp_answer[$index]!=$kunci[$idsoal]){					//SALAH					//$r_answer[]="<span class='box_answer_wrong'>".$index."<span class='abjad'>".$temp_answer[$index]."</span></span>";					//$r_answer[]="<span class='box_answer_wrong'>".$index."</span>";					$c_answer[$index]="box_answer_wrong";								}else{					//TAK JAWAB					//$r_answer[]="<span class='box_answer_wrong'>".$index."</span>";					$c_answer[$index]="box_answer_wrong";								}				$r_answer[$index]=$temp_answer[$index];				//END BANDINGKAN JAWABAN			}					}//$json_answer=json_decode($d['answer'],true);	//$json_answer=join("",$r_answer);	echo "<tr><td>$no</td><td>".$d['member_code']."</td><td>".$d['member_fullname']."</td><td>".$d['score']."</td>";$nomor=1;foreach($r_answer as $a => $jawab){if($_GET['excel']==1){	echo "<td class='kolom_jawab ".$c_answer[$a]."' ><div class=\"block_abjad\" style='background-color:#FF0000;'>".$jawab."</div></td>";}else{
	echo "<td class='kolom_jawab ".$c_answer[$a]."'><div class=\"block_nomor\">$nomor</div><div class=\"block_abjad\">".$jawab."</div></td>";	
}$nomor++;}/* * <td>".$d['quiz_code']."-".$d['quiz_title_id']."</td> <td>".$d['start_time']."</td> <td>".$d['benar']."</td><td>".$d['salah']."</td> * */if($_SESSION['s_level']>0 and $_GET['print']!=1){echo "<td>	<a title=\"del\" class=\"button_action action_del action-remove\" href=\"".backendurl("$modul/del_participant/".$d['id'])."\" data-toggle=\"modal\">		<i class=\"glyphicon-remove\"></i>	</a></td>";}$no++;echo "</tr>";}echo "</tbody>";echo "</table>";echo "</div>";$html=ob_get_clean();if($_GET['excel']==1){
	header("Content-type: application/vnd-ms-excel");	header("Content-Disposition: attachment; filename=Jawaban_".cleanInput($dschedule['code']."-".$dschedule['title_id'],"field_name").".xls");	echo $html;	die();
}else{
	echo $html;	
}}if($action=="view_analisa"){$form_title="Analisa Soal";$col_tambah.="<a class=\"printer\" target=\"_BLANK\"href='".backendurl("$modul/view_analisa/?quiz_id=".$_GET['quiz_id']."&schedule_id=".$_GET['schedule_id']."&print=1&class=".$_GET['class'])."'><img alt=\"Cetak\" border=\"0\" src=\"".backendurl("images/print.jpg")."\"></a>	  ";	$schedule_id=cleanInput($_GET['schedule_id']);	$member_salah=array();	$data_member=array();$final_salah=array();$final_tidak_jawab=array();$final_benar=array();$kunci=array();list($dschedule)=$mysql->query_data("SELECT * FROM quiz_schedule WHERE id=$schedule_id");//AMBIL KUNCI JAWABAN	$quiz_id=cleanInput($_GET['quiz_id']);		$qkey=$mysql->query("SELECT id,answer FROM quiz_detail WHERE quiz_id=$quiz_id");	if($qkey and $mysql->numrows($qkey)>0){		while($d=$mysql->assoc($qkey)){			$kunci[$d['id']]=$d['answer'];		}	}	//END AMBIL KUNCI JAWABAN$sql="SELECT * FROM quiz_done  WHERE is_done=1 AND schedule_id='".$schedule_id."' ORDER BY score DESC";$r=$mysql->query($sql);if($r and $mysql->numrows($r)){	$r_temp=array();	$class_rank="";	$correct=array();	$member_terpilih=array();	$score_individu=array();	$jawab=array();	$jumlah_peserta=$mysql->numrows($r);	$peta_biner=array();		while($d=$mysql->assoc($r)){		$class_rank=($d['score']>=70)?"upper":(($d['score']<=30)?"lower":"middle");				if($class_rank=="upper" OR $class_rank=="middle" OR $class_rank=="lower"){			$member_terpilih[$d['member_id']]=$d['score'];		}						$temp_answer=json_decode($d['answer'],true);		//$temp_acak=explode(",",$d['acak']);		$r_answer=array();				if(count($kunci)>0){				$index=0;			foreach($kunci as $idsoal => $idsoal){				$index+=1;								$r_answer[$idsoal]=$temp_answer[$index];							$jawab[$index]["A"]+=$temp_answer[$index]=="A"?1:0;				$jawab[$index]["B"]+=$temp_answer[$index]=="B"?1:0;				$jawab[$index]["C"]+=$temp_answer[$index]=="C"?1:0;				$jawab[$index]["D"]+=$temp_answer[$index]=="D"?1:0;				$jawab[$index]["E"]+=$temp_answer[$index]=="E"?1:0;													$final_salah[$index]+=0;				$final_benar[$index]+=0;				$final_tidak_jawab[$index]+=0;								//BANDINGKAN JAWABAN				if($temp_answer[$index]!="" and $temp_answer[$index]==$kunci[$idsoal]){					//BENAR					$score_individu[$d['member_id']]+=1;					$peta_biner[$index][]=$d['member_id'];					$final_benar[$index]+=1;					$correct[$class_rank][$index]+=1;				}elseif($temp_answer[$index]!="" and $temp_answer[$index]!=$kunci[$idsoal]){					//SALAH					$final_salah[$index]+=1;					$member_salah[$index][]=$d['member_id'];					$score_individu[$d['member_id']]+=0;				}else{					//TAK JAWAB					$final_salah[$index]+=1;					$final_tidak_jawab[$index]+=1;					$member_salah[$index][]=$d['member_id'];					$score_individu[$d['member_id']]+=0;				}				//END BANDINGKAN JAWABAN			}					}	}	if(count($member_salah)>0){	$json_member=json_encode($member_salah);	$insert=$mysql->query("REPLACE INTO quiz_analize(schedule_id,json_member) values ('$schedule_id','$json_member')");	}	}$nama_quiz=$mysql->get1value("SELECT concat(code,' ',title_id) judul FROM quiz_master WHERE id='$quiz_id'");$jumlah_soal=count($kunci);echo "<div class='span12'>";echo '<div class="box">	<div class="box-title">		<h3>			<i class="icon-bar-chart"></i>			Analisa Butir Soal		</h3>	</div>	<div class="box-content">';echo "<p><table cellpadding=0><tr><td><b>Paket Soal </b></td><td>&nbsp;:&nbsp;</td><td>$nama_quiz</td></tr>";/*TANGGAL MULAI DAN EXPIRED*/$tanggal_ujian=date("Y-m-d",strtotime($dschedule['tanggal']));$tanggal_expired=date("Y-m-d",strtotime($dschedule['tanggal_expired']));$hari_sama=$tanggal_ujian==$tanggal_expired?1:0;$jadwal_ujian="";if($hari_sama==1){echo "	<tr>	<td><b>Tanggal</b></td>	<td>:</td>	<td>".tgl_indo($tanggal_ujian)." Pukul ".date("H:i",strtotime($dschedule['tanggal']))." - ".date("H:i",strtotime($dschedule['tanggal_expired']))."</td>	</tr>	";}else{echo "	<tr>	<td><b>Tanggal Mulai</b></td>	<td>:</td>	<td>".tgl_indo($tanggal_ujian)." Pukul ".date("H:i",strtotime($dschedule['tanggal']))."</td>	</tr>	<tr>	<td><b>Tanggal Selesai</b></td>	<td>:</td>	<td>".tgl_indo($tanggal_expired)." Pukul ".date("H:i",strtotime($dschedule['tanggal_expired']))."</td>	</tr>	";}/*END TANGGAL MULAI DAN EXPIRED*/echo "<tr><td><b>Jumlah Siswa</b> </td><td>&nbsp;:&nbsp;</td><td>$jumlah_peserta</td></tr></table><p><br/>";echo "<div class='kotak_laporan'>";echo "<br/>";ob_start();echo "<table id='' border='1' cellspacing='0' cellpadding='3' style='width:auto;' class=''>";echo '<tbody>';echo "<tr><th width='120px'>Item</th><th width='120px'>Jawab Salah</th><th width='120px'>Statistik Pilihan</th><th width='120px'>Daya Pembeda</th><th width='120px'>Tingkat Kesulitan</th><th width='120px'>Efektifitas Option</th><th width='120px'>Status Soal</th></tr>";/*<th width='120px'>Correct(Upper Group #>= 70)</th><th width='120px'>Correct(Middle Group 31-69)</th><th width='120px'>Correct(Lower Group #<=30 ) </th><!-- <th width='120px'>Statistic Option</th> --><th width='120px'>Discrimination</th>*/$kunci_nomor=array();if(count($kunci)>0){		$index=0;	foreach($kunci as $idsoal => $idsoal){	$index+=1;	$kunci_nomor[$index]=$kunci[$idsoal];	}			}$jumlah_member_terpilih=count($member_terpilih);$rata_rata_benar=round(array_sum($score_individu)/count($score_individu),2);$std_benar=round(sd($score_individu),2);$total_score=array_sum($final_benar);$propc=array();$jawab_prope=array();$p_x_q=array();foreach($final_salah as $i => $v){$r_mean=array();$mean=0;if(count($peta_biner[$i])>0){	$jml_biner=count($peta_biner[$i]);	foreach($peta_biner[$i] as $x => $member_id){		$r_mean[]=$score_individu[$member_id];	}	//echo "<br/>";	$mean=round(array_sum($r_mean)/count($r_mean),2);}$p=round(($final_benar[$i]==$jumlah_member_terpilih?$final_benar[$i]-1:$final_benar[$i])/$jumlah_member_terpilih,2);$q=1-$p;$sqrt_p_q=round(sqrt(($p/$q)),2);$r_pBis=round((($mean-$rata_rata_benar)/$std_benar)*$sqrt_p_q,2);$ordinat_y=round((1/sqrt(2*pi()))*exp(-0.5*$p),4);$r_Bis=round((($mean-$rata_rata_benar)/$std_benar)*($p/$ordinat_y),2);$p_x_q[]=round($p*$q,2);/**///statistic option	$jawab_prope[$i]["A"]=round($jawab[$i]["A"]/$jumlah_member_terpilih,2)*100;	$jawab_prope[$i]["B"]=round($jawab[$i]["B"]/$jumlah_member_terpilih,2)*100;	$jawab_prope[$i]["C"]=round($jawab[$i]["C"]/$jumlah_member_terpilih,2)*100;	$jawab_prope[$i]["D"]=round($jawab[$i]["D"]/$jumlah_member_terpilih,2)*100;	$jawab_prope[$i]["E"]=round($jawab[$i]["E"]/$jumlah_member_terpilih,2)*100;$out=(($jumlah_member_terpilih-($jawab[$i]["A"]+$jawab[$i]["B"]+$jawab[$i]["C"]+$jawab[$i]["D"]+$jawab[$i]["E"]))/$jumlah_member_terpilih)*100;	$jawab_prope[$i]["out"]=round($out,2);	$jawab_max=$jawab_prope[$i][$kunci_nomor[$i]];$efektifitas_option=($jawab_max<$jawab_prope[$i]["A"] OR $jawab_max<$jawab_prope[$i]["B"] OR $jawab_max<$jawab_prope[$i]["C"] OR $jawab_max<$jawab_prope[$i]["D"] OR $jawab_max<$jawab_prope[$i]["E"] OR $jawab_max<$jawab_prope[$i]["out"])?"Ada Option lain yang bekerja lebih baik":"Baik";//end statistic option$jumlah_benar=($correct['upper'][$i]+$correct['middle'][$i]+$correct['lower'][$i]);$propc[$i]=$jumlah_benar>=$jumlah_member_terpilih?(($jumlah_benar-1)/$jumlah_member_terpilih):($jumlah_benar/$jumlah_member_terpilih);$daya_pembeda=$r_Bis>0.21?"Dapat Membedakan":"Tidak dapat membeda- kan";$tingkat_kesulitan=$propc[$i]>=0.7?"Mudah":(($propc[$i]>0.3 AND $propc[$i]<0.7)?"Sedang":"Sulit");$point_pembeda=$r_Bis>0.21?1:-2;$point_tk=($propc[$i]==1 OR $propc[$i]==0)?0:1;$point_efektif=($jawab_max<$jawab_prope[$i]["A"] OR $jawab_max<$jawab_prope[$i]["B"] OR $jawab_max<$jawab_prope[$i]["C"] OR $jawab_max<$jawab_prope[$i]["D"] OR $jawab_max<$jawab_prope[$i]["E"] OR $jawab_max<$jawab_prope[$i]["out"])?0:1;$total_point=($point_pembeda+$point_tk+$point_efektif);$status_soal=$total_point>2?"Dapat diterima":(($total_point>0 AND $total_point<=2)?"Soal sebaiknya Direvisi":"Ditolak/ Jangan Digunakan");echo "<tr>";echo "<td>Pertanyaan $i</td>";echo "<td align='center'><a href='".backendurl("$modul/view_siswa/?no_soal=".$i."&schedule_id=".$schedule_id)."'>".($v>0?$v:0)." Siswa</a></td>";//echo "<td align='center'>".$correct['upper'][$i]."</td>";//echo "<td align='center'>".$correct['middle'][$i]."</td>";//echo "<td align='center'>".$correct['lower'][$i]."</td>";echo "<td align='left'>";//echo "Prop =".$propc[$i]."<br/>";//echo "Biser =".$r_Bis."<br/>";//echo "Rata =".$rata_rata_benar."<br/>";//echo "Stdev =".$std_benar."<br/>";	echo "<table width='80px'>";	echo "<tr><td align=center ".($kunci_nomor[$i]=="A"?"style='color:red;font-weight:bold;'":"").">A</td><td>:".$jawab_prope[$i]["A"]."%</td></tr>";	echo "<tr><td align=center ".($kunci_nomor[$i]=="B"?"style='color:red;font-weight:bold;'":"").">B</td><td>:".$jawab_prope[$i]["B"]."%</td></tr>";	echo "<tr><td align=center ".($kunci_nomor[$i]=="C"?"style='color:red;font-weight:bold;'":"").">C</td><td>:".$jawab_prope[$i]["C"]."%</td></tr>";	echo "<tr><td align=center ".($kunci_nomor[$i]=="D"?"style='color:red;font-weight:bold;'":"").">D</td><td>:".$jawab_prope[$i]["D"]."%</td></tr>";	echo "<tr><td align=center ".($kunci_nomor[$i]=="E"?"style='color:red;font-weight:bold;'":"").">E</td><td>:".$jawab_prope[$i]["E"]."%</td></tr>";	echo "<tr><td align=center >?</td><td>:".$jawab_prope[$i]["out"]."%</td></tr>";	echo "</table>";echo "</td>";//echo "<div>$point_pembeda ,$point_tk,$point_efektif </div>";echo "<td align='center'>".$daya_pembeda."</td>";echo "<td align='center'>".$tingkat_kesulitan."</td>";echo "<td align='center'>".$efektifitas_option."</td>";echo "<td align='center'>".$status_soal."</td>";//echo "<td align='center'>".round(($correct['upper'][$i]+$correct['lower'][$i])/$jumlah_peserta,2)."</td>";//echo "<td align='center'>".round(($correct['upper'][$i]-$correct['lower'][$i])/($jumlah_peserta/2),2)."</td>";echo "</tr>";}$reabilitas=round($jumlah_soal/($jumlah_soal-1)*(1-(array_sum($p_x_q)/pow($std_benar,2))),3);echo '</tbody>';echo '</table>';$report=ob_get_clean();echo "<br/><b>Reliabilitas Tes : $reabilitas</b><br/><br/>";echo $report;echo "</p>";echo "</div>";echo "</div>";echo "</div>";$rfinal_salah=json_encode($final_salah);$jumlah_soal=count($final_salah);/*echo <<<END<div class='span10'><div class="box">	<div class="box-title">		<h3>			<i class="icon-bar-chart"></i>			Bar charts		</h3>	</div>	<div class="box-content">		<div id="flot-4" class='flot'></div>	</div></div><script>obj= JSON.parse('$rfinal_salah');if($('#flot-4').length > 0){	var d1 = [];	for (var i = 1; i <= $jumlah_soal; i += 1)		d1.push([i,obj[i]]);	var stack = 0, bars = true, lines = false, steps = 0;	function plotWithOptions() {		$.plot($("#flot-4"), [ d1 ], {			series: {				stack: stack,				lines: { show: lines, fill: true, steps: steps },				bars: { show: bars, barWidth: 0.7 }			}		});	}	plotWithOptions();	$(".stackControls input").click(function (e) {		e.preventDefault();		stack = $(this).val() == "With stacking" ? true : null;		plotWithOptions();	});	$(".graphControls input").click(function (e) {		e.preventDefault();		bars = $(this).val().indexOf("Bars") != -1;		lines = $(this).val().indexOf("Lines") != -1;		steps = $(this).val().indexOf("steps") != -1;		plotWithOptions();	});}</script>											END;echo "</div>";*/ }if($action=="view_siswa"){	$schedule_id=cleanInput($_GET['schedule_id']);$no_soal=cleanInput($_GET['no_soal']);$q=$mysql->query("SELECT schedule_id,json_member FROM quiz_analize WHERE schedule_id='$schedule_id'");$nama_quiz=$mysql->get1value("SELECT concat(code,'-',title_id) judul FROM quiz_master WHERE id=(SELECT quiz_id FROM quiz_schedule WHERE id='$schedule_id')");	if($q and $mysql->numrows($q)>0){		$d=$mysql->assoc($q);		$json_member=json_decode($d['json_member'],true);			if(count($json_member)>0){					$join_member="'".join("','",$json_member[$no_soal])."'";					$q=$mysql->query("SELECT member_code,member_class,member_fullname FROM quiz_done WHERE member_id IN ($join_member) AND schedule_id='$schedule_id' ORDER BY member_class,member_fullname");				if($q and $mysql->numrows($q)>0){					echo "<br/>";					echo "<table>					<tr>					<td>Nama Soal</td>					<td>:</td>					<td><b>$nama_quiz</b></td>					</tr>					<tr>					<td>Nomor Soal</td>					<td>:</td>					<td><b>$no_soal</b></td>					</tr>					</table>";					echo "<table width='300px' id='DataTables_Table_3_wrapper' style='width:auto;' class='table table-hover table-nomargin table-bordered '>";					echo "					<thead>					<tr>					<th width='70px'>"._NOMOR."</th>					<th width='100px'>"._CLASS."</th>					<th width='100px'>"._KODELOGIN."</th>					<th width='300'>"._NAMALENGKAP."</th>					";					echo "</tr>					</thead>";					echo '<tbody>';					$no=1;					while($siswa=$mysql->assoc($q)){					echo "					<tr>					<td>$no</td>					<td>".$siswa['member_class']."</td>					<td>".$siswa['member_code']."</td>					<td>".$siswa['member_fullname']."</td>					";					$no++;					}					echo '</tbody>';					echo '</table>';				}				else{					echo "Tidak ada data siswa";				}				 			}	}}if($action=="skip"){$schedule_id=cleanInput($_GET['schedule_id']);$q=$mysql->query("SELECT quiz_info,tanggal,tanggal_expired FROM quiz_schedule WHERE id='$schedule_id'");$data_quiz=$mysql->assoc($q);$data_quiz_info=json_decode($data_quiz['quiz_info'],true);				echo "<br/>";		echo "		<h2>Daftar peserta yang tidak mengikuti ujian</h2>		<table>		<tr><td>Nama Soal</td><td>:</td><td><b>".$data_quiz_info["code"]."&nbsp;&nbsp;-&nbsp;&nbsp;".$data_quiz_info["title_id"]."</b></td></tr>";		/*TANGGAL MULAI DAN EXPIRED*/		$tanggal_ujian=date("Y-m-d",strtotime($data_quiz['tanggal']));		$tanggal_expired=date("Y-m-d",strtotime($data_quiz['tanggal_expired']));		$hari_sama=$tanggal_ujian==$tanggal_expired?1:0;		if($hari_sama==1)		{		echo "			<tr>			<td>Tanggal</td>			<td>:</td>			<td><b>".$tanggal_ujian." Pukul ".date("H:i",strtotime($data_quiz['tanggal']))." - ".date("H:i",strtotime($data_quiz['tanggal_expired']))."</b></td>			</tr>			";		}		else		{		echo "			<tr>			<td>Tanggal Mulai</td>			<td>:</td>			<td><b>".$tanggal_ujian." Pukul ".date("H:i",strtotime($data_quiz['tanggal']))."</b></td>			</tr>			<tr>			<td>Tanggal Selesai</td>			<td>:</td>			<td><b>".$tanggal_expired." Pukul ".date("H:i",strtotime($data_quiz['tanggal_expired']))."</b></td>			</tr>			";		}		/*END TANGGAL MULAI DAN EXPIRED*/					echo "</table>";				/**/		$kondisi="";		$q=$mysql->query("SELECT * FROM quiz_schedule WHERE id='$schedule_id' ");		if($q and $mysql->numrows($q)>0){		$data_quiz=$mysql->assoc($q);		if($data_quiz["allow_class"]!="ALL"){			$r_allow_class=explode(",",$data_quiz["allow_class"]);			$allow_class="'".join("','",$r_allow_class)."'";			$kondisi=" AND class IN ($allow_class)";		}		}		$q=$mysql->query("		SELECT q.*,IFNULL(qd.is_done,'') is_done FROM 		quiz_member q		LEFT JOIN quiz_done qd ON (q.id=qd.member_id AND qd.schedule_id='$schedule_id')		 WHERE 		q.id NOT IN(SELECT member_id FROM quiz_done WHERE		schedule_id='$schedule_id' AND is_done=1		)		$kondisi 		");				if($q and $mysql->numrows($q)>0){			/**/				echo "<table width='300px' id='DataTables_Table_3_wrapper' style='width:auto;' class='table table-hover table-nomargin table-bordered '>";			echo "			<thead>			<tr>			<th width='70px'>"._NOMOR."</th>			<th width='100px'>"._CLASS."</th>			<th width='100px'>"._KODELOGIN."</th>			<th width='300'>"._NAMALENGKAP."</th>			<th width='300'>"._KET."</th>			";			echo "</tr>			</thead>";			echo '<tbody>';			$no=1;			while($siswa=$mysql->assoc($q)){			echo "			<tr>			<td>$no</td>			<td>".$siswa['class']."</td>			<td>".$siswa['username']."</td>			<td>".$siswa['fullname']."</td>			<td>".(($siswa['is_done']==0 and $siswa['is_done']!="")?"SEDANG UJIAN":(($siswa['is_done']==3 and $siswa['is_done']!="")?"PENDING":""))."</td>			";			$no++;			}			echo '</tbody>';			echo "</table>";				}		else{			echo "Tidak ada data siswa";		}				 				}if($action=="dashboard"){echo '								<div class="container-fluid">				<div class="row-fluid">					<div class="span12">						<div class="box box-color box-bordered lightred">							<div class="box-title">								<h3>									<i class="icon-reorder"></i>									Dashboard								</h3>							</div>							<div class="box-content" id="ujian_realtime">							<ul class="tiles tiles-center nomargin">									<li class="blue">										<span class="label label-important"></span>										<a href="'.backendurl("$modul/view_participant_statistic/?schedule_id=".$_GET['schedule_id']).'"><span><i class="icon-bar-chart"></i></span><span class="name">Jawaban Siswa</span></a>									</li>									<li class="blue">										<span class="label label-important"></span>										<a href="'.backendurl("$modul/view_analisa/?quiz_id=".$_GET['quiz_id']."&schedule_id=".$_GET['schedule_id']).'"><span><i class="icon-bar-chart"></i></span><span class="name">Analisa Soal</span></a>									</li>								</ul>																				</div>						</div>										</div>								</div>							</div>			<div class="clearfix"><br><br></div>';}?>