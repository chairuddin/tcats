<?phpfunction valueBetween($string,$cawal="(",$cakhir=")"){$awal=strpos($string,$cawal);$akhir=strpos($string,$cakhir);$panjang=($akhir-$awal);if($panjang==0){return '';}else{return substr($string,($awal+1),($panjang-1));}}function getTyp($string,$cakhir="("){$akhir=strpos($string,$cakhir);if($akhir==0){return $string;}else{return substr($string,0,($akhir));}}function createform($table,$form_action,$first_hide=false){global $config;$q=mysql_query("DESCRIBE $table");if($q){echo "<form method='post' class='form-horizontal' action='".$config['backendurl']."/$form_action'>";$x=0;	while($d=mysql_fetch_assoc($q))	{	$x++;	if($first_hide and $x==1){continue;}	$field=$d['Field'];	$type=getTyp($d['Type']);	$length=valueBetween($d['Type']);	echo '	<div class="control-group">	<label class="control-label" for="textfield">'.ucfirst($field).'</label>	<div class="controls">';		if($type=='int')	{	echo "<input type='number' name='$field' id='$field' size='$length' maxlength='$length' />";	}	elseif($type=='varchar')	{	echo "<input type='text' name='$field' id='$field' size='40' maxlength='$length' />";	}	elseif($type=='text')	{	echo "<textarea name='$field' id='$field' ></textarea>";	}			echo '</div>	</div>';	}if($x>0){echo '	<div class="control-group">	<label class="control-label" for="textfield"></label>	<div class="controls">		<input type="submit" name="submit" value="submit" />	</div>	</div>';}	echo "</form>"	;}}function editform($table,$form_action,$id,$first_hide=FALSE){global $config;$qdata=mysql_query("SELECT * FROM $table WHERE id=$id");if($qdata and mysql_num_rows($qdata)>0){	$data=mysql_fetch_assoc($qdata);}$q=mysql_query("DESCRIBE $table");if($q){echo "<form class='form-horizontal' method='post' action='".$config['backendurl']."/$form_action'>";echo "<input type='hidden' name='id' id='id' value='".$data['id']."' />";	$x=0;	while($d=mysql_fetch_assoc($q))	{	$x++;	if($first_hide and $x==1){continue;}	$field=$d['Field'];	$type=getTyp($d['Type']);	$length=valueBetween($d['Type']);	echo '	<div class="control-group">	<label class="control-label" for="textfield">'.ucfirst($field).'</label>	<div class="controls">';		if($type=='int')	{	echo "<input type='number'  class='input-xlarge'  name='$field' id='$field' size='$length' maxlength='$length' value='".$data[$field]."' />";	}	elseif($type=='varchar')	{	echo "<input type='text'  class='input-xlarge'  name='$field' id='$field' size='40' maxlength='$length' value='".$data[$field]."' />";	}	elseif($type=='text')	{	echo "<textarea name='$field' id='$field' class='usetiny span12' >".$data[$field]."</textarea>";	}		echo '</div>	</div>';	}if($x>0){echo '	<div class="control-group">	<label class="control-label" for="textfield"></label>	<div class="controls">		<input type="submit" name="submit" value="submit" />	</div>	</div>';}	echo "</form>";}}function saveform($table,$first_hide=false){	if($_POST['submit'])	{		$x=0;		$qfield=array();		$qvalue=array();		$q=mysql_query("DESCRIBE $table");		while($d=mysql_fetch_assoc($q))		{		$x++;		if($first_hide and $x==1){continue;}		$field=$d['Field'];		$type=getTyp($d['Type']);		$length=valueBetween($d['Type']);		$qfield[]=$field;		$qvalue[]=$_POST[$field];						}		$jfield=join(",",$qfield);		$jvalue="'".join("','",$qvalue)."'";		$q="INSERT INTO $table ($jfield) values($jvalue)";		$r=mysql_query($q);		return $r;	}}function updateform($table){$first_hide=true;	if($_POST['submit'])	{		$id=$_POST['id'];		$x=0;		$qfield=array();		$qvalue=array();		$q=mysql_query("DESCRIBE $table");		while($d=mysql_fetch_assoc($q))		{		$x++;		if($first_hide and $x==1){continue;}		$field=$d['Field'];		$qfield[]=$field;		$qvalue[]=$field."='".$_POST[$field]."'";						}		$jvalue=join(",",$qvalue);		$q="UPDATE $table SET $jvalue WHERE id=$id ";			$r=mysql_query($q);		return $r;	}}function showdata($table,$first_hide=false,$kondisi="order by id desc"){global $config;		$x=0;		$cust_field=array();		$ori_field=array();		$r_type=array();		//get field		$q=mysql_query("DESCRIBE $table");		while($d=mysql_fetch_assoc($q))		{		$x++;		$field=$d['Field'];		$ori_field[]=$field;		if($first_hide and $x==1){continue;}				$type=getTyp($d['Type']);		$r_type[]=$type;		$cust_field[]=$field;		}		//////////////////////				$ofield=join(",",$ori_field);		$q=mysql_query("SELECT $ofield FROM $table $kondisi");		echo "<table border=1>";		echo "<tr>";		echo "<th>No</th>";		foreach($cust_field as $f)		{		echo "<th>".ucfirst($f)."</th>";		}		echo "<th>Action</th>";		echo "</tr>\r\n";		$no=1;		while($d=mysql_fetch_assoc($q))		{			$id=$d['id'];			echo "<tr>";			echo "<th>$no</th>";			foreach($cust_field as $i =>$f)			{								echo "<td>&nbsp;";				if($r_type[$i]=='text')				{					$totalhuruf=strlen($d[$f]);					$panjang=50;										if($totalhuruf>$panjang)					{						if($totalhuruf<($panjang+10))						{						echo $d[$f];						}						else						{						$penggalan=substr($d[$f],0,$panjang);						echo $penggalan;						}						echo "... ";						}					else					{					echo $d[$f];					}				}				else				{				echo $d[$f];				}								echo "</td>";			}			echo "<td>			<a href='".$config['backendurl']."/page/edit/$id'>Edit</a>			<a href='".$config['backendurl']."/page/delete/$id'>Delete</a>			</td>";						echo "</tr>\r\n";		$no++;		}		echo "</table>";		}function deletedata($table,$id){$q=mysql_query("DELETE FROM $table WHERE id=$id");return $q;}?>